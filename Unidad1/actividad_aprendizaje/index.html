<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Unidad 1 · Actividad de clasificación de software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f0f2f5;
      color: #222;
      line-height: 1.6;
    }
    header {
      background: #2c3e50;
      color: #fff;
      padding: 1rem 1.5rem;
    }
    header h1 {
      font-size: 1.4rem;
      margin-bottom: 0.15rem;
    }
    header p {
      font-size: 0.95rem;
      opacity: 0.9;
    }
    header a {
      color: #ecf0f1;
      text-decoration: none;
      font-size: 0.9rem;
    }
    header a:hover {
      text-decoration: underline;
    }
    main {
      max-width: 960px;
      margin: 2rem auto 3rem auto;
      padding: 0 1.5rem;
    }
    h2 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: #2980b9;
    }
    .activity-box {
      background: #ffffff;
      border-radius: 10px;
      padding: 1.5rem;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
      margin-top: 1.5rem;
    }
    .items {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.8rem;
      margin-bottom: 1.5rem;
    }
    .item {
      background: #2980b9;
      color: #fff;
      padding: 0.5rem 1.1rem;
      border-radius: 999px;
      cursor: grab;
      user-select: none;
      font-size: 0.95rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
    }
    .item.dragging {
      opacity: 0.6;
      transform: scale(0.96);
      cursor: grabbing;
    }
    .bins {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: space-around;
      margin-top: 0.5rem;
    }
    .bin {
      flex: 1 1 260px;
      min-height: 180px;
      border-radius: 10px;
      border: 2px dashed #3498db;
      background: #f7fbff;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    .bin h3 {
      font-size: 1.05rem;
      margin-bottom: 0.6rem;
      text-align: center;
      color: #2c3e50;
    }
    .bin.drag-over {
      background: #fff7f4;
      border-color: #e67e22;
    }
    .feedback {
      margin-top: 1.2rem;
      text-align: center;
      font-weight: 600;
      min-height: 1.4rem;
    }
    .feedback.ok {
      color: #27ae60;
    }
    .feedback.error {
      color: #e74c3c;
    }
    .reset-btn {
      margin-top: 1rem;
      display: inline-block;
      padding: 0.55rem 1.3rem;
      border-radius: 999px;
      border: none;
      background: #f39c12;
      color: #fff;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: background 0.2s ease, transform 0.2s ease;
    }
    .reset-btn:hover {
      background: #e67e22;
      transform: translateY(-1px);
    }
    .nota {
      font-size: 0.9rem;
      color: #555;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Unidad 1 · Actividad de clasificación de software</h1>
    <p>Arrastre cada software a la categoría que considere más adecuada.</p>
    <a href="../../index.html">← Volver al inicio del curso</a>
  </header>

  <main>
    <section>
      <h2>Objetivo</h2>
      <p>
        Clasificar diferentes programas según el tipo de interacción predominante: si se utilizan principalmente
        mediante una <strong>interfaz gráfica</strong> (menús, ventanas, formularios) o mediante
        <strong>código/comandos</strong> (scripts, consola).
      </p>
    </section>

    <section class="activity-box" aria-label="Actividad de clasificación de software">
      <div class="items" id="items">
        <div class="item" draggable="true" data-software="R">R</div>
        <div class="item" draggable="true" data-software="Python">Python</div>
        <div class="item" draggable="true" data-software="Stata">Stata</div>
        <div class="item" draggable="true" data-software="SPSS">SPSS</div>
        <div class="item" draggable="true" data-software="PSPP">PSPP</div>
        <div class="item" draggable="true" data-software="Jamovi">Jamovi</div>
      </div>

      <div class="bins">
        <div class="bin" data-category="code" aria-label="Basado en código">
          <h3>Basado en código / comandos</h3>
        </div>
        <div class="bin" data-category="gui" aria-label="Interfaz gráfica">
          <h3>Interfaz gráfica (menús y ventanas)</h3>
        </div>
      </div>

      <div id="feedback" class="feedback" aria-live="polite"></div>
      <button class="reset-btn" id="reset-btn">Reiniciar actividad</button>

      <p class="nota">
        Nota: la clasificación tiene un carácter orientativo. Muchos programas ofrecen tanto interfaz gráfica como
        posibilidades de programación (por ejemplo, RStudio o SPSS con sintaxis).
      </p>
    </section>
  </main>

  <script>
    (function () {
      var items = document.querySelectorAll(".item");
      var bins = document.querySelectorAll(".bin");
      var feedback = document.getElementById("feedback");
      var resetBtn = document.getElementById("reset-btn");
      var container = document.getElementById("items");

      var correct = {
        "R": "code",
        "Python": "code",
        "Stata": "code",
        "SPSS": "gui",
        "PSPP": "gui",
        "Jamovi": "gui"
      };

      var dragged = null;

      items.forEach(function (item) {
        item.addEventListener("dragstart", function (e) {
          dragged = item;
          item.classList.add("dragging");
          e.dataTransfer.effectAllowed = "move";
        });

        item.addEventListener("dragend", function () {
          item.classList.remove("dragging");
          dragged = null;
        });
      });

      bins.forEach(function (bin) {
        bin.addEventListener("dragover", function (e) {
          e.preventDefault();
          bin.classList.add("drag-over");
        });

        bin.addEventListener("dragleave", function () {
          bin.classList.remove("drag-over");
        });

        bin.addEventListener("drop", function (e) {
          e.preventDefault();
          bin.classList.remove("drag-over");
          if (dragged && !bin.contains(dragged)) {
            bin.appendChild(dragged);
            checkStatus();
          }
        });
      });

      function checkStatus() {
        var correctCount = 0;
        var total = items.length;

        bins.forEach(function (bin) {
          var category = bin.getAttribute("data-category");
          var children = bin.querySelectorAll(".item");
          children.forEach(function (child) {
            var software = child.getAttribute("data-software");
            if (correct[software] === category) {
              correctCount += 1;
            }
          });
        });

        if (correctCount === total) {
          feedback.textContent = "Excelente, ha clasificado correctamente todos los softwares.";
          feedback.className = "feedback ok";
        } else {
          feedback.textContent = "Hay elementos por revisar. Intente ajustar su clasificación.";
          feedback.className = "feedback error";
        }
      }

      resetBtn.addEventListener("click", function () {
        items.forEach(function (item) {
          container.appendChild(item);
        });
        feedback.textContent = "";
        feedback.className = "feedback";
      });
    })();
  </script>
</body>
</html>
